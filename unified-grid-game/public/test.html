<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test - Unified Grid Game</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/exp.css">
</head>
<body>
    <div class="container mt-4">
        <h1>Unified Grid Game - Test Page</h1>
        <div id="test-results"></div>
    </div>

    <script>
        function addResult(message, success = true) {
            const results = document.getElementById('test-results');
            const div = document.createElement('div');
            div.className = success ? 'alert alert-success' : 'alert alert-danger';
            div.textContent = message;
            results.appendChild(div);
        }

        // Test CSS loading
        addResult('✓ CSS files loaded successfully');

        // Test configuration loading
        if (typeof window.EXPERIMENT_CONFIG !== 'undefined') {
            addResult('✓ Experiment configuration loaded');
            console.log('Config:', window.EXPERIMENT_CONFIG);
        } else {
            addResult('✗ Experiment configuration not found', false);
        }

        // Test unifiedConfig
        if (typeof unifiedConfig !== 'undefined') {
            addResult('✓ unifiedConfig variable available');
        } else {
            addResult('✗ unifiedConfig variable not found', false);
        }

        // Test map files
        const mapTests = [
            { name: 'MapsFor1P1G', var: 'MapsFor1P1G' },
            { name: 'MapsFor1P2G', var: 'MapsFor1P2G' },
            { name: 'MapsFor2P2G', var: 'MapsFor2P2G' },
            { name: 'MapsFor2P3G', var: 'MapsFor2P3G' }
        ];

        mapTests.forEach(test => {
            if (typeof window[test.var] !== 'undefined') {
                addResult(`✓ ${test.name} loaded`);
            } else {
                addResult(`✗ ${test.name} not found`, false);
            }
        });

        // Test core scripts
        const scriptTests = [
            { name: 'setup.js', var: 'DIRECTIONS' },
            { name: 'utils.js', var: 'utils' },
            { name: 'mdp.js', var: 'mdp' },
            { name: 'rlAgent.js', var: 'RLAgent' },
            { name: 'unifiedNodeGameExperiment.js', var: 'UnifiedNodeGameExperiment' }
        ];

        scriptTests.forEach(test => {
            if (typeof window[test.var] !== 'undefined') {
                addResult(`✓ ${test.name} loaded`);
            } else {
                addResult(`✗ ${test.name} not found`, false);
            }
        });

        // Test Socket.io
        if (typeof io !== 'undefined') {
            addResult('✓ Socket.io loaded');
        } else {
            addResult('✗ Socket.io not found', false);
        }

        addResult('Test completed. Check console for detailed information.');
    </script>

    <!-- Load all dependencies -->
    <script src="/socket.io/socket.io.js"></script>
    <script src="js/setup.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/mdp.js"></script>
    <script src="js/vizWithAI.js"></script>
    <script src="js/rlAgent.js"></script>
    <script src="config/MapsFor1P1G.js"></script>
    <script src="config/MapsFor1P2G.js"></script>
    <script src="config/MapsFor2P2G.js"></script>
    <script src="config/MapsFor2P3G.js"></script>
    <script src="config/experimentConfig.js"></script>
    <script src="js/unifiedNodeGameExperiment.js"></script>
</body>
</html>